# OneTab Plus 新手引导系统设计

## 设计目标

### 主要目标
1. **降低学习成本**: 帮助新用户快速理解核心功能
2. **提升首次体验**: 确保用户在首次使用时获得成功体验
3. **减少流失率**: 通过引导减少用户因不会使用而放弃
4. **突出价值**: 展示扩展的核心价值和独特功能

### 用户痛点分析
1. **不知道如何开始**: 首次打开扩展时界面为空，用户不知道下一步
2. **功能不明确**: 不清楚各个按钮和功能的作用
3. **操作复杂**: 拖拽、搜索等高级功能需要指导
4. **价值不明显**: 不理解使用扩展的好处

## 引导流程设计

### 触发条件
- 首次安装扩展
- 用户手动触发（设置中的"重新开始引导"）
- 检测到用户长时间未使用核心功能

### 引导步骤

#### 第一步：欢迎介绍
**目标**: 建立第一印象，说明扩展价值
**内容**:
- 欢迎使用 OneTab Plus
- 简要说明扩展的核心价值：节省内存、整理标签、云端同步
- 预计引导时间：约2分钟

**交互**:
- 模态对话框形式
- "开始引导" 和 "跳过引导" 按钮
- 进度指示器 (1/6)

#### 第二步：保存当前标签
**目标**: 让用户体验核心功能
**内容**:
- 高亮显示"保存所有标签"按钮
- 说明：点击此按钮可以将当前所有标签页保存为一个组
- 演示内存节省效果

**交互**:
- 聚光灯效果高亮按钮
- 引导气泡指向按钮
- 用户必须点击按钮才能继续

#### 第三步：查看标签组
**目标**: 展示标签组管理功能
**内容**:
- 高亮显示新创建的标签组
- 说明标签组的结构：组名、标签数量、创建时间
- 介绍展开/折叠功能

**交互**:
- 高亮标签组卡片
- 引导用户点击展开按钮
- 展示标签列表

#### 第四步：标签操作
**目标**: 介绍标签的基本操作
**内容**:
- 高亮单个标签项
- 说明点击标签可以重新打开
- 介绍删除标签功能
- 展示拖拽排序（可选）

**交互**:
- 高亮标签项
- 引导用户点击一个标签
- 观察标签重新打开

#### 第五步：搜索功能
**目标**: 介绍搜索和过滤功能
**内容**:
- 高亮搜索框
- 说明可以搜索标签标题和URL
- 演示搜索结果显示

**交互**:
- 高亮搜索框
- 引导用户输入搜索关键词
- 展示搜索结果

#### 第六步：高级功能
**目标**: 介绍设置和同步功能
**内容**:
- 高亮设置按钮
- 简要介绍云端同步、主题切换等功能
- 说明可以随时在设置中重新开始引导

**交互**:
- 高亮设置区域
- 展示设置面板（可选）
- 完成引导

## 技术实现方案

### 组件架构
```
OnboardingSystem/
├── OnboardingProvider.tsx     # 引导状态管理
├── OnboardingOverlay.tsx      # 遮罩层组件
├── OnboardingTooltip.tsx      # 引导气泡组件
├── OnboardingSpotlight.tsx    # 聚光灯效果组件
├── OnboardingProgress.tsx     # 进度指示器
└── steps/                     # 各步骤组件
    ├── WelcomeStep.tsx
    ├── SaveTabsStep.tsx
    ├── ViewGroupStep.tsx
    ├── TabOperationsStep.tsx
    ├── SearchStep.tsx
    └── AdvancedStep.tsx
```

### 状态管理
```typescript
interface OnboardingState {
  isActive: boolean;
  currentStep: number;
  totalSteps: number;
  isCompleted: boolean;
  canSkip: boolean;
  userProgress: {
    hasCreatedGroup: boolean;
    hasOpenedTab: boolean;
    hasUsedSearch: boolean;
  };
}
```

### 样式设计
- **聚光灯效果**: 使用 CSS `clip-path` 或 `mask` 创建聚光灯
- **动画**: 使用 Framer Motion 或 CSS 动画
- **响应式**: 适配不同屏幕尺寸
- **主题适配**: 支持浅色/深色主题

### 数据持久化
- 使用 localStorage 记录引导完成状态
- 记录用户跳过的步骤
- 支持重置引导状态

## 用户体验优化

### 个性化引导
- 根据用户当前标签数量调整引导内容
- 检测用户已有的标签组，调整引导步骤
- 智能跳过已完成的操作

### 非侵入式设计
- 允许用户随时跳过引导
- 提供"稍后提醒"选项
- 不阻止用户正常使用扩展

### 反馈收集
- 引导结束后收集用户反馈
- 记录用户在哪个步骤退出
- 分析引导效果数据

## 可访问性考虑

### 键盘导航
- 支持 Tab 键导航
- 支持 Enter/Space 键确认
- 支持 Esc 键退出

### 屏幕阅读器
- 添加适当的 ARIA 标签
- 提供文本描述
- 确保焦点管理正确

### 视觉辅助
- 高对比度模式支持
- 字体大小适配
- 颜色不作为唯一信息传达方式

## 性能考虑

### 懒加载
- 引导组件按需加载
- 步骤组件动态导入
- 减少初始包大小

### 动画优化
- 使用 CSS transform 而非 layout 属性
- 启用硬件加速
- 提供减少动画选项

### 内存管理
- 及时清理事件监听器
- 避免内存泄漏
- 优化组件渲染

## 测试策略

### 功能测试
- 各步骤正常流程测试
- 跳过引导功能测试
- 重新开始引导测试
- 异常情况处理测试

### 用户体验测试
- 新用户完成率测试
- 引导时长测试
- 用户满意度调研
- A/B 测试不同引导方案

### 兼容性测试
- 不同浏览器版本测试
- 不同屏幕尺寸测试
- 不同主题模式测试
- 可访问性工具测试

## 后续优化方向

### 智能引导
- 基于用户行为的个性化引导
- 机器学习优化引导流程
- 动态调整引导内容

### 多媒体支持
- 添加引导视频
- 交互式动画演示
- 语音引导支持

### 社区功能
- 用户生成的引导内容
- 社区最佳实践分享
- 引导内容众包
